<div class="markdown prose w-full break-words dark:prose-invert light"><h2>Step 1: Obtain a token</h2><p>Before you can interact with the main Pdf Weaver API, you need to obtain an authentication token. To do this, you have two options:</p><h3>Option 1: Use the API to get the captcha challenge and solve it manually</h3><ol><li>Make a GET request to the <code>/api/captcha</code> endpoint to get the captcha challenge:</li></ol><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/captcha
</code></div></div></pre><ol start="2"><li><p>The API will return a base64-encoded image of the captcha challenge. Decode the base64 string to an image using an online tool like <a href="https://base64.guru/converter/decode/image" target="_new">base64.guru</a>.</p></li><li><p>Solve the captcha challenge manually and note down the solution and the captcha secret.</p></li><li><p>Call the <code>/api/token</code> endpoint with the required parameters:</p></li></ol><ul><li><code>userId</code>: Your email address, which will serve as your user ID.</li><li><code>captchaSolution</code>: The solution to the captcha challenge.</li><li><code>captchaSecret</code>: The captcha secret associated with the captcha challenge.</li></ul><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/token?userId=YOUR_EMAIL_ADDRESS&amp;captchaSolution=CAPTCHA_SOLUTION&amp;captchaSecret=CAPTCHA_SECRET
</code></div></div></pre><p>Upon successful authentication, the API will return a token that you will use in subsequent requests. Additionally, you will receive a confirmation email containing the token.</p><h3>Option 2: Use the token generation feature on the Pdf Weaver website</h3><ol><li><p>Visit the Pdf Weaver website at <a href="https://pdf-waver.io" target="_new">https://pdf-waver.io</a>.</p></li><li><p>Navigate to the token generation section.</p></li><li><p>Enter your email address as your user ID and solve the captcha challenge provided on the website.</p></li><li><p>Click the "Generate Token" button.</p></li></ol><p>Upon successful authentication, the website will provide a token that you can use in subsequent requests with the Pdf Weaver API. You will also receive a confirmation email containing the token.</p>
<h2>Step 2: Generate a PDF</h2><p>To generate a PDF using the Pdf Weaver API, make a POST request to the <code>/api/service/order</code> endpoint with the required request body:</p><ul><li><code>xmlData</code>: The XML data for the document.</li><li><code>xslData</code>: The XSL data for the document.</li><li><code>tokenId</code>: The token obtained in step 1.</li><li><code>userId</code>: Your user ID.</li></ul><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">POST https://yitc.ddns.net:5000/api/service/order
Content-Type: application/json

{
  "xmlData": "YOUR_XML_DATA",
  "xslData": "YOUR_XSL_DATA",
  "tokenId": "YOUR_TOKEN_ID",
  "userId": "YOUR_USER_ID"
}
</code></div></div></pre><p>The API will return a <code>requestId</code> that you will use in the following steps to check the status and retrieve the generated PDF.</p><h2>Step 3: Check the status of the PDF generation</h2><p>To check the status of your PDF generation request, make a GET request to the <code>/api/service/order/state</code> endpoint with the <code>requestId</code> obtained in step 2:</p><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/service/order/state?requestId=YOUR_REQUEST_ID
</code></div></div></pre><p>The API will return the current status of the PDF generation process. Keep polling this endpoint until the status indicates that the process is complete.</p><h2>Step 4: Retrieve the generated PDF</h2><p>Once the PDF generation process is complete, make a GET request to the <code>/api/service/order/result</code> endpoint with the <code>requestId</code> obtained in step 2:</p><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/service/order/result?requestId=YOUR_REQUEST_ID
</code></div></div></pre><p>The API will return the generated PDF as a binary file, which you can save and use as needed.</p><h2>Optional: Get captcha challenge (if required)</h2><p>If the API requires captcha verification, you can get the captcha challenge by making a GET request to the <code>/api/captcha</code> endpoint:</p><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/captcha
</code></div></div></pre><p>Solve the captcha challenge and use the solution and secret in Step 1 to obtain the token.</p><h2>Optional: Check the API health</h2><p>To check if the API is up and running, make a GET request to the <code>/api/health</code> endpoint:</p><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>http</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-http">GET https://yitc.ddns.net:5000/api/health
</code></div></div></pre><p>If the API is healthy, the endpoint will return a <code>200</code> status code.</p></div>